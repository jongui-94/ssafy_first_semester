<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>SSAFY BOOK CAFE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="./css/main.css"/>  
    <script src="./js/cafe.js"></script>
    <script src="./js/httpRequest3.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
    	  sendRequest3('programming.jsp', null, 'GET', xmlProcess, error, "xml", function() {}, function() {});
    	  sendRequest3('essay.jsp', null, 'GET', jsonProcess, error, "json", function() {}, function() {});
      });
      
      function xmlProcess(data) {
    	  console.log(data);
    	  
    	  let books = data.getElementsByTagName("book");
    	  
    	  let bookDescs = document.querySelectorAll(".book-desc");
    	  console.log(bookDescs);
    	  
    	  for (var i = 0; i < 4; i++) {
    		  bookDescs[i].childNodes[0].nodeValue = books[i].getElementsByTagName("title")[0].childNodes[0].nodeValue;
    		  bookDescs[i].childNodes[2].nodeValue = books[i].getElementsByTagName("price")[0].childNodes[0].nodeValue;
    	  }
      }
      
      function jsonProcess(data) {
    	  console.log(data);
    	  
    	  let books = JSON.parse(data);
    	  let bookDescs = document.querySelectorAll(".book-desc");
    	  
    	  for (var i = 4; i < 8; i++) {
    		  bookDescs[i].childNodes[0].nodeValue = books[i - 4].title;
    		  bookDescs[i].childNodes[2].nodeValue = books[i - 4].price;
    	  }
      }
      
      function error(status, response) {
    	  console.log(status + " / " + response);
      }
    </script>
  </head>
  <body>
    <!-- 상단 Header Start  -->
    <header class = "header">
      <nav>
        <a class="title" href="#">SSAFY BookCafe</a>
        <a class="notice" href="#">공지사항</a>



        <div class = "menu">
          <div class = "menu-item">
            <a href="#" id="sign-in">로그인</a>
          </div>
          <div class = "menu-item">
            <a href="#" id="sign-up">회원가입</a>
          </div>
          <div class = "menu-item">
            <a href="#" id="logout" style="display: none">로그아웃</a>
          </div>
          <div class = "menu-item" >
            <a href="#" id="mypage" style="display: none">마이페이지</a>
          </div>
          <div class = "menu-item" > 
            <a href="#" id = "manager"style="display: none">관리자</a>
          </div>
        </div>
      </nav>
    </header>
    <!-- 상단 Header End  -->

    <!-- 중앙 Contents Start  -->
    <div class = "center">
      <!-- 왼쪽 Content Start  -->
      <div class = "left-content">
        <!-- 프로필 사진 Start  -->
        <div class="no-profile" id = "no-profile">
          <img class = "noimg" src="img/noimg.png" alt="" />
        </div>
        <div class="profile" id = "profile" style="display: none">
            <img class = "profile-img"  src="img/profile.png" alt="" />
          </div>
        <!-- 프로필 사진 End  -->
        <!-- 메뉴 Start  -->
        <div>
          <div class="list" id="open-store-list" >전국매장펼치기</div>
          <div class="list" id="close-store-list" style="display: none" >전국매장접기</div>
          <ul>
            <li class="region" id="seoul">
              <a >서울</a>
              <div id = "seoul-spot" style="display: none">
                <ul>
                  <li>역삼점</li>
                  <li>선릉점</li>
                </ul>
              </div>
            </li>
            <li class="region" id="daejeon">
              <a >대전</a>
              <div id = "daejeon-spot" style="display: none">
                <ul>
                  <li>학하점</li>
                  <li>봉명점</li>
                </ul>
              </div>
            </li>
            <li class="region" id="gumi">
              <a >구미</a>
              <div id = "gumi-spot" style="display: none">
                <ul>
                  <li>인동점</li>
                  <li>공단점</li>
                </ul>
              </div>
            </li>
            <li class="region" id="gwangju">
              <a >광주</a>
              <div id = "gwangju-spot"  style="display: none">
                <ul>
                  <li>하남산단점</li>
                  <li>광주역점</li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <!-- 메뉴 End  -->
        <!-- 설문조사 Start  -->
        <div class ="survey">
          <div class = "survey-title">[ 당신의 선택 ]</div>
          <div class = "survey-desc">공부하고 싶은 분야를 골라 주세요!!!</div>
          <div>
            <ul class = "vote-list">
              <li>
                <input type="radio" name="vote_answer" id="" />
                <img src="img/poll/python.png" alt="" /> Python
              </li>
              <li>
                <input type="radio" name="vote_answer" id="" />
                <img src="img/poll/html5.png" alt="" /> HTML5
              </li>
              <li>
                <input type="radio" name="vote_answer" id="" />
                <img src="img/poll/vuejs.png" alt="" /> Vue.js
              </li>
              <li>
                <input type="radio" name="vote_answer" id="" />
                <img src="img/poll/java.png" alt="" /> Java
              </li>
            </ul>
          </div>
          <div class="button">
            <button>투표하기</button>
            
            <button>결과보기</button>
          </div>
          <div class="term">투표기간 : 21.03.01 ~ 21.03.31</div>
        </div>
        <!-- 설문조사 End  -->
      </div>
      <!-- 왼쪽 Content End  -->

      <!-- 중앙 Content Start  -->
      <div class = "middle-content">
        <!-- 프로그래밍 Section Start  -->
        <section class="section1">
          <h3>[ 프로그래밍 언어 ]</h3>
          <ul class="section1-1">
            <li >
              <div >
                <div class="image">
                  <img src="img/book/p_book01.png" alt="" />
                </div>
                <div class="book-desc">
                  Do it! 점프 투 파이썬<br />(18,800원)
                </div>
              </div>
            </li>
            <li >
              <div class="book">
                <div class="image">
                  <img src="img/book/p_book02.png" alt="" />
                </div>
                <div class="book-desc">
                  HTML5 API 프로그래밍<br />(23,000원)
                </div>
              </div>
            </li>
            <li >
              <div>
                <div class="image">
                  <img src="img/book/p_book03.png" alt="" />
                </div>
                <div class="book-desc">
                  백견불여일타 Vue.js입문<br />(22,000원)
                </div>
              </div>
            </li>
            <li >
              <div>
                <div class="image">
                  <img src="img/book/p_book04.png" alt="" />
                </div>
                <div class="book-desc">
                  Java 프로그래밍<br />(26,500원)
                </div>
              </div>
            </li>
          </ul>
        </section>
        <!-- 프로그래밍 Section End  -->

        <!-- 에세이 Section Start  -->
        <section class="section2">
          <h3>[ 에세이 ]</h3>
          <ul class="section2-1">
            <li>
              <div>
                <div class="image">
                  <img src="img/book/e_book01.png" alt="" />
                </div>
                <div class="book-desc">
                  2인조<br />(14800원)
                </div>
              </div>
            </li>
            <li>
              <div>
                <div class="image">
                  <img src="img/book/e_book02.png" alt="" />
                </div>
                <div class="book-desc">
                  안녕, 소중한 사람<br />(15,000원)
                </div>
              </div>
            </li>
            <li>
              <div>
                <div class="image">
                  <img src="img/book/e_book03.png" alt="" />
                </div>
                <div class="book-desc">
                  꽃을 보든 너를 본다<br />(10,000원)
                </div>
              </div>
            </li>
            <li>
              <div>
                <div class="image">
                  <img src="img/book/e_book04.png" alt="" />
                </div>
                <div class="book-desc">
                  곰돌이 푸, 행복한 일은 매일 있어<br />(12,000원)
                </div>
              </div>
            </li>
          </ul>
        </section>
        <!-- 에세이 Section End  -->

        <section class = "section3">
          <!-- 인기글 Article Start  -->
          <article class="section3-1">
            <h3>[ 인기글 ]</h3>
            <table class = "table1">
              <thead>
                <tr>
                  <th>제목</th>
                  <th>작성자</th>
                  <th>조회수</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>자바공부 쉽게하는법!!</td>
                  <td>이쎄림</td>
                  <td>1756</td>
                </tr>
                <tr>
                  <td>알고리즘은 자바? 파이썬?</td>
                  <td>홍정밍</td>
                  <td>998</td>
                </tr>
                <tr>
                  <td>스프링 정복하기~</td>
                  <td>김나켠</td>
                  <td>856</td>
                </tr>
              </tbody>
            </table>
          </article>
          <!-- 인기글 Article End  -->

          <!-- 최신글 Article Start  -->
          <article class="section3-2">
            <h3>[ 최신글 ]</h3>
            <table class = "table2">
              <thead>
                <tr>
                  <th>제목</th>
                  <th>작성자</th>
                  <th>조회수</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>web 관련 질문있어요.</td>
                  <td>이주녕</td>
                  <td>12</td>
                </tr>
                <tr>
                  <td>vuejs는 이렇게 공부해보세요.</td>
                  <td>조밍기</td>
                  <td>98</td>
                </tr>
                <tr>
                  <td>꽃길만 걸어요.</td>
                  <td>류해면</td>
                  <td>56</td>
                </tr>
              </tbody>
            </table>
          </article>
          <!-- 최신글 Article End  -->
        </section>
      </div>
      <!-- 중앙 Content End  -->
    </div>
    <!-- 중앙 Contents End  -->

    <!-- 하단 Footer Start  -->
    <footer class="footer">
      <ul>
        <li><a class="" href="#">카페소개</a></li>
        <li><a class="" href="#">개인정보처리방침</a></li>
        <li><a class="" href="#">이용약관</a></li>
        <li><a class="" href="#">오시는길</a></li>
        <li>&copy; SSAFY Corp.</li>
      </ul>
    </footer>
    <!-- 하단 Footer End  -->
  </body>
</html>
